<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" []>
<chapter>
  <title>Sets de datos y formularios</title>
  <para>Este capítulo cubre los sets de datos y formularios, qué tipos de formularios están disponibles y describe buenas prácticas en el proceso de cambiar de fomularios en papel a formularios electrónicos.</para>
  <section>
    <title>¿Qué es un set de datos?</title>
    <para>Toda entrada de datos en DHIS 2 está organizada mediante el uso de sets de datos. Un set de datos es una colección de elementos de datos agrupados para registrar datos, y en el caso de instalaciones distribuidas también definen montones de datos para exportar e importar entre instancias de DHIS 2 (por ejemplo, de una instalación local en oficina distrital al servidor nacional). Los sets de datos no están directamente ligados a los valores de los datos, solo a través de sus elementos de datos y frecuencias, y por tanto un set de datos puede ser modificado, eliminado o añadido en cualquier momento sin que ello afecte a los datos en bruto anteriormente capturados en el sistema, aunque estos cambios por supuesto siempre afectarán a cómo se recopilan nuevos datos.</para>
    <para>Un set de datos tiene un tipo de periodo que controla la frecuencia de recogida de datos, que puede ser diaria, semanal, mensual, trimestral, semestral o anual. Tanto los elementos de datos a incluir en el data set como el tipo de periodo son definidos por el usuario, junto con un nombre, un nombre corto, y un código. Si se necesitan campos calculados en el formulario de registro (y no sólo en los reportes), entonces se pueden asignar indicadores al set de datos también, pero éstos solo pueden usarse en formularios personalizados (ver más abajo).</para>
    <para>Para utilizar un set de datos para recopilar datos para una unidad organizativa específica el usuario debe asignar la unidad organizativa al set de datos. Este mecanismo controla qué unidades organizativas pueden utilizar qué sets de datos, y al mismo tiempo define los valores objetivo para la completitud de los datos (por ejemplo, cuántos establecimientos de salud se espera que envíen el set de datos RCH cada mes en un distrito).</para>
    <para>Un elemento de dato puede pertenecer a múltiples sets de datos, pero esto requiere pensar cuidadosamente ya que puede conllevar que se registren datos superpuestos e inconstantes si, por ejemplo, damos diferentes frecuencias a los sets de datos y éstos son utilizados por las mismas unidades organizativas.</para>
  </section>
  <section>
    <title>¿Qué es un formulario de entrada de datos?</title>
    <para>Una vez hemos asignado un set de datos a una unidad organizativa, ese set de datos quedará disponibile en "Entrada de Datos" (en menú Servicios) de cara a las unidades organizativas que le hemos asignado y en los periodos válidos de acuerdo al tipo de periodo del set de datos. Entonces se mostrará un formulario de entrada de datos por defecto, que simplemente será un listado de los elementos de datos pertenecientes al set de datos junto a una columna para meter los valores. Si nuestro set de datos contiene elementos de datos con categorías como grupos de edad o género, entonces se generarán automáticamente columnas adicionales en el formulario en base a las categorías. Además del formulario de entrada por defecto tipo lista hay otras dos alternativas: el formulario de secciones y el formulario personalizado.</para>
    <section>
      <title>Tipos de formularios de entrada de datos</title>
      <para>DHIS 2 permite actualmente tres tipos diferentes de formularios que se describen a continuación:</para>
      <section>
        <title>Formularios por defecto</title>
        <para>Un formulario de entrada de datos por defecto es sencillamente un listado de los elementos de datos que pertenecen al set de datos junto a una columna para insertar los valores. Si nuestro set de datos continene elementos de datos con una combinación de categorías personalizada, como los grupos de edad o género, entonces se añadirán columnas automáticamente al formulario en base a las distintas opciones/dimensiones. Si utilizamos más de una combinación de categorías en el set de datos obtendremos una tabla por cada combinación de categorías en el formulario por defecto, con diferentes encabezados de columna para las opciones. </para>
      </section>
      <section>
        <title>Formularios de Sección</title>
        <para>Los formularios por secciones son un poco más flexibles cuando queremos hacer formularios tabulares, y son rápidos y sencillos de diseñar. A menudo nuestro formulario de entrada de datos necesita mútiples tablas con subtítulos, y a veces necesitamos deshabilitar (colorear en gris) unos pocos campos de la tabla (por ejemplo, categorías que no se aplican a todos los elementos de datos); estas dos funciones están soportadas en los formularios por secciones. Después de definir un set de datos podemos definir sus secciones con subsets de elementos de datos, un encabezado y posibles campos en gris en la tabla de la sección. El orden de las secciones en un set de datos también puede definirse. En "Entrada de Datos" podemos comenzar usando el formulario de sección (debería aparecer automáticamente cuando hay secciones disponibles para el set de datos seleccionado). Debería ser posible reproducir la mayoría de formularios tabulares con los formularios por secciones. Utilizar los formularios por secciones o por defecto nos hace la vida más fácil ya que no hay necesidad de mantener un diseño fijo de formulario que incluye referencias a los elementos de datos. Si estos dos tipos de formularios no cumplen con nuestros requisitos, entonces la tercera opción es ya completamente flexible, aunque lleva más tiempo, y son los formularios personalizados de entrada de datos. </para>
      </section>
      <section>
        <title>Formularios personalizados</title>
        <para>Cuando el formulario que queremos diseñar es demasiado complicado para el estilo por defecto o los formularios por secciones, entonces nuestra última opción es ya usar un formulario personalizado. Esto nos llevará más tiempo, pero nos da total flexibilidad en términos de diseño. En DHIS 2 hay un editor HTML (CK Editor) en el diseñador de formularios, que nos permite tanto diseñar el formular en el IU o pegar nuestro código html directamente (usando la ventana "fuente" del editor). En el formulario personalizado podemos insertar texto estático o campos de datos (vinculados a elementos de datos y combinaciones de opciones de categorías) en cualquier posición del formulario y tenemos total libertad para diseñar la apariencia del formulario. Una vez hemos añadido el formulario personalizado a un set de datos, quedará disponible en la entrada de datos y podrá ser usado inmediatamente. </para>
        <para>Cuando manejamos un formulario personalizado es posible utilizar campos calculados para mostrar por ejemplo totales u otros cálculos basados en los datos que se están capturando en el formulario. Esto puede ser útil cuando ligiamos con formularios logísticos o de stock que necesitan balanceo de ítems, número de items necesarios para el próximo periodo, etc. Para hacer esto, el usuario deberá definir previamente las expresiones calculadas como indicatores y luego asignar estos indicadores al set de datos en cuestión. En el diseñador de formularios personalizados el usuario puede asignar indicadores al formulario de la misma manera en que se asignan elementos de datos. La única limitación a la expresión calculada es que todos los elementos de datos incluidos den la expresión deben estar disponibles en el mismo set de datos, ya que los cálculos se hacen sobre la marcha dentro del formulario, y no se basan en valores de datos almacenados anteriormente en la base de datos.</para>
      </section>
    </section>
  </section>
  <section>
    <title>Lecciones aprendidas: de los formularios en papel a los formularios electrónicos</title>
    <para>Cuando introducimos un sistema electrónico de información en salud, el sistema que es reemplazado generalmente se basa en buena medida en reportes en papel. El proceso de migrar a la captura y análisis electrónicos implica algunos retos. Las siguientes secciones sugieren buenas prácticas sobre cómo afrontarlos y superarlos.</para>
    <section>
      <title>Identificar elementos de datos autónomos</title>
      <para>Generalmente el diseño de un set de datos en DHIS 2 se basa en algunos requisitos de los formularios en papel que se estaban manejando hasta ese momento. La lógica de los formularios en papel no es la misma que el modelo de elementos de datos y set de datos de DHIS. Por ejemplo, frecuentemente un campo de un formulario tabular en papel se describe tanto en encabezados de columnas y en texto en cada fila, y a veces también con algún título introductorio de la tabla que proporciona mayor contexto. En la base de datos esto se captura para un elemento de dato atómico sin referencia a una posición en formato de tabla visual, así que es importante asegurarnos de que el elemento de dato con sus categorías opcionales capture el significado completo de cada campo individual en el formulario en papel.</para>
    </section>
    <section>
      <title>Dejar los cálculos y las repeticiones a la computadora: capturar solo datos en bruto</title>
      <para>Otro asunto importante a tener en mente a la hora de diseñar sets de datos es que el set de datos y el correspondiente formulario (que es en realidad el set de datos con una apariencia concreta) es una herramienta de colección de datos y no una herramienta de reporte o análisis. Hay otras herramientas mucho más sofisticadas para la salida de datos y generación de reportes en DHIS 2 que los formularios de entrada de datos. Los formularios en papel a menudo se diseñan teniendo en cuenta tanto el registro como el reporte de datos, y por esta razón podremos ver cosas como valores acumulados (además de valores mensuales), repeticiones de datos anuales (los mismos datos poblacionales reportados cada mes) o incluso valores de indicadores como tasas de cobertura en el mismo formulario que los datos mensuales en bruto. Cuando almacenamos datos en bruto en la base de datos DHIS 2 cada mes y tenemos todo el poder de procesado necesario en una herramienta computacional, entonces no hay ya ninguna necesidad (de hecho sería erróneo y podría causar inconsistencias) registrar valores como los anteriores calculados manualmente. Solo querremos capturar datos en bruto en nuestros formularios y dejar los cálculos a la computadora, y la presentación de esos valores a las herramientas de reporte de DHIS. Mediante las funcionalidades de los reportes de sets de datos, todos los formularios tabulares por secciones tendrán automáticamente columnas extra en el extremo derecho para aportar valores de subtotal y total para cada fila (elemento de dato).</para>
    </section>
  </section>
</chapter>
